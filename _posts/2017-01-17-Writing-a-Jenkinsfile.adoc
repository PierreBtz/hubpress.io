# Writing a Jenkinsfile

Jenkins Pipeline are great
They allow the developper to keep its pipeline and its build near its code.
But developping a Pipeline can quickly become cumbersome:

* Coding in the text area of the Jenkins UI is not 
* Your code can grow and become hard to maintain (yeah, we end up having the same problems in our builds than in the rest of our code!).
* Validation is not easy...

During development of a pipeline, it's easy to make a typo in your Jenkinsfile and end up with an invalide Jenkisfile. This is a pain, as you lose time understanding the mistake, fix it, commit the fix and push it. The feedback loop is long, you lose time...
Good news it that there are some ways to shorten this feedback loop.
Create your pipeline from the UI
You often don't need to directly write your pipeline in a Jenkinsfile (this should be your target though). You can just write it directly in the Jenkins UI by choosing Pipeline Script for your Pipeline Definition.
Note that there are some stuff you will miss with method: checkout command (that you can emulate with a git command, and change later), operations on branches...
Validate your pipeline before commiting
Jenkins offers a linter for your Jenkinsfile. Maybe your pipeline won't work as expected, but at least it will be valid. Best way to use the linter is to the JenkinsCLI.
You will need the Pipeline Model Definition﻿ version 0.7 at least:
curl -O $jenkins_base_url/jnlpJars/jenkins-cli.jar
java -jar jenkins-cli.jar -s $jenkins_base_url declarative-linter <Jenkinsfile
Note that if you cannot update the Pipeline Model Definition plugin, you can still validate your Jenkinsfile via ssh or a wget﻿.
Blue Ocean Pipeline Editor
This stuff is at very alpha stage, it's fun but do not count too much on it...
A new plugin﻿ is being developed based on Blue Ocean to design your pipeline in a very graphical manner. You can see a video in action here﻿. I would not recommend to use it for production work, but definitely worth keeping an eye on it.

Bonus: why not simplify the pipeline syntax?
You might have noticed that the pipeline syntax is very verbose. You can already write libraries to wrap some of this verbosity, but the Declarative Pipeline plugin might also help you. Again, the plugin is under active development so if you play with it, be ready to update your build files when you update your plugins... If you wish to learn more about it, here is an introduction.


